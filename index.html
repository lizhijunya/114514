<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <meta name="author" content="realwds">
    <meta name="generator" content="KodCloud">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    
    <meta name="description" content="野兽先辈的小屋">
    <meta name="keywords" content="野兽先辈的小屋">
    
    <title>野兽先辈的小屋</title>
    <link rel="shortcut icon" type="image/png" href="/yjsp.jpeg">
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css">
    <style type="text/css">
* {
    margin: 0;
    padding: 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    font-family: Microsoft Yahei, "微软雅黑", "Helvetica Neue", Helvetica, Hiragino Sans GB, WenQuanYi Micro Hei, sans-serif;
}
html, body {
    width: 100%;
    height: 100%;
}
a {
    text-decoration: none;
}
a:focus {  /* firefox */
    outline: none;  
} 
img {border: none;}
.hidden {display: none;}

/* 页面头部 */
.header {
    width: 100%;
    height: 100%;
    position: relative;
    color: #fff;
    overflow: hidden;
}

/* 头部动画区域 */
#victor-container {
    background-image: linear-gradient(to right, #8BC34A , #4CAF50);
    z-index: -1;
    position: absolute;
    height: 100%;
    width: 100%;
    min-width: 500px;
}
#victor-output {
    width: 100%;
    height: 100%;
}

/* 欢迎语区域 */
.welcome {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    -webkit-transform: translateY(-50%);
       -moz-transform: translateY(-50%);
        -ms-transform: translateY(-50%);
         -o-transform: translateY(-50%);
            transform: translateY(-50%);
    text-align: center;
}

/* 页面标题图 */
.web-title {
    max-width: 90%;
    -webkit-animation: fadeIn 1s linear;
    animation: fadeIn 1s linear;
}
/*.web-title:hover {*/
/*    -webkit-animation:bounce 1s .1s ease both;*/
/*    -moz-animation:bounce 1s .1s ease both;*/
/*}*/

/* 向下滚动提示 */
.scroll-down-tips {
    position: absolute;
    text-align: center;
    left: 50%;
    -webkit-transform: translateX(-50%);
       -moz-transform: translateX(-50%);
        -ms-transform: translateX(-50%);
         -o-transform: translateX(-50%);
            transform: translateX(-50%);
    bottom: 20px;
    color: #f0f0f0;
    cursor: pointer;
}
.scroll-down-tips>.fa {
    color: #f0f0f0;
    -webkit-animation: upDown 2s infinite;
    animation: upDown 2s infinite;
}

/* 页面主容器 */
.container{
    max-width: 1100px;
    margin: 0 auto;
    position: relative;
}

/* 栅格系统 */
.mk-item-box {
    margin-left: -15px;
    margin-right: -15px;
}
.mk-item-box:before,.mk-item-box:after {
    content: " ";
    display: table;
}
.mk-item-box:after {
    clear: both;
}
.mk-item {
    width: 25%;
    float: left;
    padding-left: 15px;
    padding-right: 15px;
    position: relative;
}

/* 响应式优化 */
@media screen and (max-width: 1150px) {
    .container {
        width: 950px;
    }
}
@media screen and (max-width: 1000px) {
    .container {
        width: 750px;
    }
    .mk-item {
        width: 50%;
    }
}
@media screen and (max-width: 800px) {
    .container {
        width: 100%;
        padding-left:30px;
        padding-right: 30px;
    }
    
    .welcome>p {
        font-size: 20px;
    }
}
@media screen and (max-width: 600px) {
    .container {
        padding-left:15px;
        padding-right: 15px;
    }
    .mk-item {
        width: 100%;
    }
}

/* 分类大块 */
.section {
    margin-top: 30px;
    margin-bottom: 10px;
}

/* 子标题 */
.mk-sub-title {
    text-align: center;
    font-weight: normal;
    font-size: 26px;
    margin: 20px 0 13px 0;
}
.mk-sub-title>span {
    font-family: Segoe UI Light,Microsoft YaHei,Arial,Helvetica,sans-serif;
    margin-right: 10px;
}
.mk-title-describe {
    text-align: center;
    font-size: 16px;
    color: #666;
    margin-bottom: 20px;
}


/* 彩色块，样式来自 alloyteam(http://www.alloyteam.com/) */
.mk-color-item {
    font-family: microsoft yahei;
    background-color: #70c3ff;
    padding: 20px 10px;
    text-align: center;
    border-radius: 4px;
    color: #fff;
    margin-bottom: 25px;
    -webkit-transition: all .3s ease;
    transition: all .3s ease;
    overflow: hidden;
    cursor: pointer;
    position: relative;
}
.mk-color-item:hover {
    transform: translateY(-6px);
    -webkit-transform: translateY(-6px);
    -moz-transform: translateY(-6px);
    box-shadow: 0 26px 40px -24px rgba(0, 36, 100, .5);
    -webkit-box-shadow: 0 26px 40px -24px rgba(0, 36, 100, .5);
    -moz-box-shadow: 0 26px 40px -24px rgba(0, 36, 100, .5)
}

.mk-color-item.color1 {
    background-color: #70c3ff!important;
}
.mk-color-item.color2 {
    background-color: #fd6a7f!important;
}
.mk-color-item.color3 {
    background-color: #7f8ea0!important;
}
.mk-color-item.color4 {
    background-color: #89d04f!important;
}
.mk-color-item.color5 {
    background-color: #998899!important;
}
.mk-color-item.color6 {
    background-color: #888069!important;
}
.mk-color-item.color6 {
    background-color: #888069!important;
}

.mk-color-item>p {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 14px;
}

.mk-color-item>.item-logo {
    height: 60px;
    overflow: hidden;
    display: inline-block
}
.mk-color-item>.item-logo>img {
    height: 100%
}

.mk-color-item>.item-logo>.fa {
    font-size: 60px; 
    line-height: 60px;
}

.mk-color-item>h3 {
    font-size: 24px;
    margin-top: 20px;
    margin-bottom: 10px;
    font-family: inherit;
    font-weight: 500;
    line-height: 1.1;
    color: inherit;
}

.mk-color-item>.light {
    cursor: pointer;
    position: absolute;
    left: -100%;
    top: 0;
    width: 100%;
    height: 100%;
    background-image: -webkit-linear-gradient(0deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5),hsla(0,0%,100%,0));
    transform: skewx(-25deg);
    -o-transform: skewx(-25deg);
    -moz-transform: skewx(-25deg);
    -webkit-transform: skewx(-25deg);
}
.mk-color-item:hover>.light {
    -webkit-transition: all .3s ease;
    transition: all .3s ease;
    left: 100%
}

/* 页脚区域 */
.footer {
    text-align: center;
    background: #26282c;
    padding: 30px 0;
    font-size: 14px;
    color: #d8d8d8;
}
.footer a{
    color: #FF9800;
}

/* 返回顶部按钮。样式来自水墨寒博客 https://smohan.net/ */
.mk-uptop {
    width: 40px;
    height: 40px;
    position: fixed;
    bottom: 20px;
    right: -60px;
    background-color: rgba(67,69,70,.75);
    z-index: 50;
    -webkit-transition: all .36s ease;
    transition: all .36s ease;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    cursor: pointer;
}
.mk-uptop:before {
    content: "";
    width: 12px;
    height: 12px;
    border-top: 1px solid hsla(0,0%,100%,.75);
    border-right: 1px solid hsla(0,0%,100%,.75);
    position: absolute;
    top: 45%;
    left: 55%;
    -webkit-transform: rotate(-45deg) translate(-50%,-50%);
    transform: rotate(-45deg) translate(-50%,-50%);
}
.mk-uptop:hover {
    background-color: rgb(67,69,70);
    background-color: rgba(67,69,70,1);
}
.mk-uptop.show {
    right: 12px;
    -webkit-transform: scale(1) rotate(-1turn) translate(0);
    transform: scale(1) rotate(-1turn) translate(0);
}


/* 上下移动动画效果 */
@-webkit-keyframes upDown {0% {-webkit-transform: translate3d(0, 0, 0); opacity: 1;}100% {-webkit-transform: translate3d(0, 8px, 0);opacity: 0;}}
@keyframes upDown {0% {transform: translate3d(0, 0, 0);opacity: 1;}100% {transform: translate3d(0, 8px, 0);opacity: 0;}}

/* 掉落的动画效果 */
@-webkit-keyframes dropIn {0% {opacity: 0;-webkit-transform: translate3d(0, -100px, 0)}100% {opacity: 0.8;-webkit-transform: translate3d(0, 0, 0)}}
@keyframes dropIn {0% {opacity: 0;transform: translate3d(0, -100px, 0)}100% {opacity: 0.8;transform: translate3d(0, 0, 0)}}

/* 逐渐出现的动画效果 */
@-webkit-keyframes fadeIn {from {opacity: 0;-webkit-transform: scale(.8) translateY(20px)}to {opacity: 1;-webkit-transform: scale(1) translateY(0)}}
@keyframes fadeIn {from {opacity: 0;transform: scale(.8) translateY(20px)}to {opacity: 1;transform: scale(1) translateY(0)}}

/*弹动效果*/
@-webkit-keyframes bounce {0% {-webkit-transform:scale(1)}10%, 20% {-webkit-transform:scale(0.8) rotate(-2deg)}30%, 50%, 70%, 90% {-webkit-transform:scale(1.1) rotate(2deg)}40%, 60%, 80% {-webkit-transform:scale(1.1) rotate(-2deg)}100% {-webkit-transform:scale(1) rotate(0)}}

/* 拉伸弹动效果 */
@keyframes rubberBand {0% {transform: scaleX(1)} 30% {transform: scale3d(1.25, .75, 1)}40% {transform: scale3d(.75, 1.25, 1)}50% {transform: scale3d(1.15, .85, 1)}65% {transform: scale3d(.95, 1.05, 1)}75% {transform: scale3d(1.05, .95, 1)}to {transform: scaleX(1)}}

/* 留言板样式 */
.message-board {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    padding: 30px;
    margin-bottom: 30px;
}

.message-form {
    margin-bottom: 30px;
}

.message-form .form-group {
    margin-bottom: 15px;
}

.message-form label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    color: #333;
}

.message-form input,
.message-form textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    transition: border-color 0.3s ease;
}

.message-form input:focus,
.message-form textarea:focus {
    outline: none;
    border-color: #70c3ff;
}

.message-form textarea {
    resize: vertical;
    min-height: 100px;
}

.submit-btn {
    background: #70c3ff;
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
}

.submit-btn:hover {
    background: #5ba8e6;
}

.messages-list {
    max-height: 400px;
    overflow-y: auto;
}

.message-item {
    background: #f8f9fa;
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 15px;
    border-left: 4px solid #70c3ff;
}

.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.message-author {
    font-weight: 500;
    color: #333;
}

.message-time {
    font-size: 12px;
    color: #666;
}

.message-content {
    color: #555;
    line-height: 1.5;
    word-wrap: break-word;
}

.no-messages {
    text-align: center;
    color: #999;
    padding: 30px;
    font-style: italic;
}

.message-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 12px;
    float: left;
}

.message-header {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    overflow: hidden;
}

.message-info {
    flex: 1;
}

.message-author {
    font-weight: 500;
    color: #333;
    margin-bottom: 2px;
}

.message-time {
    font-size: 12px;
    color: #666;
}
    </style>

</head>
<body>


<header class="header">
    <!-- 动画展示区域 -->
    <div id="victor-container"><div id="victor-output"></div></div>
    
    <div class="welcome">
        <img class="web-title" src="/yjsp.jpeg" alt="野兽" />
        <p style="margin-top: 20px; font-size: 18px; color: #f0f0f0; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); line-height: 1.6;">每个homo都会在浏览器输入奇怪的数字(<br>野兽先辈的小屋</p>
    </div>
    
    <!--向下滚动提示-->
    <a class="scroll-down-tips" href="#product" onclick="$('html, body').animate({scrollTop: $('.header').height()}, '500');return false;">
        <i class="fa fa-angle-double-down" aria-hidden="true"></i>
        向下滚动
    </a>
</header>

<div class="container">

<!-- 留言板区域 -->
<section class="section">
    <h3 class="mk-sub-title">
        <span>Message</span>
        <span>/</span>
        留言板
    </h3>
    
    <p class="mk-title-describe">欢迎留下您的足迹</p>
    
    <div class="message-board">
        <!-- 留言表单 -->
        <div class="message-form">
            <div class="form-group">
                 <label for="authorName">昵称：</label>
                 <input type="text" id="authorName" placeholder="请输入您的昵称" maxlength="20">
             </div>
             <div class="form-group">
                 <label for="authorEmail">邮箱（用于显示头像，不会公开）：</label>
                 <input type="email" id="authorEmail" placeholder="请输入您的邮箱" maxlength="50">
             </div>
            <div class="form-group">
                <label for="messageContent">留言内容：</label>
                <textarea id="messageContent" placeholder="请输入留言内容..." maxlength="500"></textarea>
            </div>
            <button class="submit-btn" onclick="submitMessage()">提交留言</button>
        </div>
        
        <!-- 留言列表 -->
        <div class="messages-list" id="messagesList">
            <div class="no-messages">暂无留言，快来抢沙发吧！</div>
        </div>
    </div>
</section>

<section class="section">

<a name="product"></a>
<h3 class="mk-sub-title">
    <span>ProJect</span>
    <span>/</span>
    我们的一些折腾项目
</h3>

<p class="mk-title-describe">谢谢喵</p>

<div class="mk-item-box">

<div class="mk-item">
    <a href="https://github.com/lizhijunya" target="_blank">
        <article class="mk-color-item color1">
            <div class="item-logo">
                <i class="fa fa-github" aria-hidden="true"></i>
            </div>
            <h3>GitHub</h3>
            <p>https://github.com/lizhijunya</p>
            <i class="light"></i>
        </article>
    </a>
</div>

<div class="mk-item">
    <a href="https://gitee.com/lizhijunya" target="_blank">
        <article class="mk-color-item color3">
            <div class="item-logo">
                <i class="fa fa-github" aria-hidden="true"></i>
            </div>
            <h3>Gitee</h3>
            <p>https://gitee.com/lizhijunya</p>
            <i class="light"></i>
        </article>
    </a>
</div>

<div class="mk-item">
    <a href="https://xiaolii.com" target="_blank">
        <article class="mk-color-item color4">
            <div class="item-logo">
                <i class="fa fa-globe" aria-hidden="true"></i>
            </div>
            <h3>小理的 BLOG</h3>
            <p>https://xiaolii.com</p>
            <i class="light"></i>
        </article>
    </a>
</div>

<div class="mk-item">
    <a href="https://114514.fun" target="_blank">
        <article class="mk-color-item color6">
            <div class="item-logo">
                <i class="fa fa-globe" aria-hidden="true"></i>
            </div>
            <h3>你是一个一个小卖部（恼</h3>
            <p>https://114514.fun</p>
            <i class="light"></i>
        </article>
    </a>
</div>

<div class="mk-item">
    <a href="https://pan.xiaolii.com" target="_blank">
        <article class="mk-color-item color5">
            <div class="item-logo">
                <i class="fa fa-globe" aria-hidden="true"></i>
            </div>
            <h3>小理的云盘</h3>
            <p>https://pan.xiaolii.com</p>
            <i class="light"></i>
        </article>
    </a>
</div>

<div class="mk-item">
    <a href="https://status.xiaolii.com" target="_blank">
        <article class="mk-color-item color2">
            <div class="item-logo">
                <i class="fa fa-globe" aria-hidden="true"></i>
            </div>
            <h3>Xiaolii's 服务器状态</h3>
            <p>https://status.xiaolii.com</p>
            <i class="light"></i>
        </article>
    </a>
</div>



</div>

</section>

<section class="section">

</section>

</div>

<footer class="footer">
    <div class="web-record">
        © 2020 <a href="https://xiaolii.com">XIAOLII</a> All rights reserved
		 	</div>


</footer>

<!-- 返回顶部 -->
<div class="mk-uptop" title="点击返回顶部"></div>

<!-- jq -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>

<script>
// 留言板功能
function loadMessages() {
    const messages = JSON.parse(localStorage.getItem('messages') || '[]');
    const messagesList = document.getElementById('messagesList');
    
    if (messages.length === 0) {
        messagesList.innerHTML = '<div class="no-messages">暂无留言，快来抢沙发吧！</div>';
        return;
    }
    
    messagesList.innerHTML = messages.map(message => `
        <div class="message-item">
            <div class="message-header">
                <img class="message-avatar" src="${getGravatarUrl(message.email || '')}" alt="头像" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNkZGQiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0iIzk5OSIvPgo8cGF0aCBkPSJNMzAgMzJjMC02LjYyNy01LjM3My0xMi0xMi0xMnMtMTIgNS4zNzMtMTIgMTIiIGZpbGw9IiM5OTkiLz4KPC9zdmc+'">
                <div class="message-info">
                    <div class="message-author">${escapeHtml(message.author)}</div>
                    <div class="message-time">${message.time}</div>
                </div>
            </div>
            <div class="message-content">${escapeHtml(message.content)}</div>
        </div>
    `).join('');
}

function submitMessage() {
    const authorInput = document.getElementById('authorName');
    const emailInput = document.getElementById('authorEmail');
    const contentInput = document.getElementById('messageContent');
    
    const author = authorInput.value.trim();
    const email = emailInput.value.trim();
    const content = contentInput.value.trim();
    
    if (!author) {
        alert('请输入昵称！');
        authorInput.focus();
        return;
    }
    
    if (!content) {
        alert('请输入留言内容！');
        contentInput.focus();
        return;
    }
    
    const messages = JSON.parse(localStorage.getItem('messages') || '[]');
    const newMessage = {
        id: Date.now(),
        author: author,
        email: email,
        content: content,
        time: new Date().toLocaleString('zh-CN')
    };
    
    messages.unshift(newMessage); // 新留言显示在最前面
    localStorage.setItem('messages', JSON.stringify(messages));
    
    // 清空表单
    contentInput.value = '';
    
    // 重新加载留言列表
    loadMessages();
    
    alert('留言提交成功！');
}

function md5(string) {
    function md5cycle(x, k) {
        var a = x[0], b = x[1], c = x[2], d = x[3];
        a = ff(a, b, c, d, k[0], 7, -680876936);
        d = ff(d, a, b, c, k[1], 12, -389564586);
        c = ff(c, d, a, b, k[2], 17, 606105819);
        b = ff(b, c, d, a, k[3], 22, -1044525330);
        a = ff(a, b, c, d, k[4], 7, -176418897);
        d = ff(d, a, b, c, k[5], 12, 1200080426);
        c = ff(c, d, a, b, k[6], 17, -1473231341);
        b = ff(b, c, d, a, k[7], 22, -45705983);
        a = ff(a, b, c, d, k[8], 7, 1770035416);
        d = ff(d, a, b, c, k[9], 12, -1958414417);
        c = ff(c, d, a, b, k[10], 17, -42063);
        b = ff(b, c, d, a, k[11], 22, -1990404162);
        a = ff(a, b, c, d, k[12], 7, 1804603682);
        d = ff(d, a, b, c, k[13], 12, -40341101);
        c = ff(c, d, a, b, k[14], 17, -1502002290);
        b = ff(b, c, d, a, k[15], 22, 1236535329);
        a = gg(a, b, c, d, k[1], 5, -165796510);
        d = gg(d, a, b, c, k[6], 9, -1069501632);
        c = gg(c, d, a, b, k[11], 14, 643717713);
        b = gg(b, c, d, a, k[0], 20, -373897302);
        a = gg(a, b, c, d, k[5], 5, -701558691);
        d = gg(d, a, b, c, k[10], 9, 38016083);
        c = gg(c, d, a, b, k[15], 14, -660478335);
        b = gg(b, c, d, a, k[4], 20, -405537848);
        a = gg(a, b, c, d, k[9], 5, 568446438);
        d = gg(d, a, b, c, k[14], 9, -1019803690);
        c = gg(c, d, a, b, k[3], 14, -187363961);
        b = gg(b, c, d, a, k[8], 20, 1163531501);
        a = gg(a, b, c, d, k[13], 5, -1444681467);
        d = gg(d, a, b, c, k[2], 9, -51403784);
        c = gg(c, d, a, b, k[7], 14, 1735328473);
        b = gg(b, c, d, a, k[12], 20, -1926607734);
        a = hh(a, b, c, d, k[5], 4, -378558);
        d = hh(d, a, b, c, k[8], 11, -2022574463);
        c = hh(c, d, a, b, k[11], 16, 1839030562);
        b = hh(b, c, d, a, k[14], 23, -35309556);
        a = hh(a, b, c, d, k[1], 4, -1530992060);
        d = hh(d, a, b, c, k[4], 11, 1272893353);
        c = hh(c, d, a, b, k[7], 16, -155497632);
        b = hh(b, c, d, a, k[10], 23, -1094730640);
        a = hh(a, b, c, d, k[13], 4, 681279174);
        d = hh(d, a, b, c, k[0], 11, -358537222);
        c = hh(c, d, a, b, k[3], 16, -722521979);
        b = hh(b, c, d, a, k[6], 23, 76029189);
        a = hh(a, b, c, d, k[9], 4, -640364487);
        d = hh(d, a, b, c, k[12], 11, -421815835);
        c = hh(c, d, a, b, k[15], 16, 530742520);
        b = hh(b, c, d, a, k[2], 23, -995338651);
        a = ii(a, b, c, d, k[0], 6, -198630844);
        d = ii(d, a, b, c, k[7], 10, 1126891415);
        c = ii(c, d, a, b, k[14], 15, -1416354905);
        b = ii(b, c, d, a, k[5], 21, -57434055);
        a = ii(a, b, c, d, k[12], 6, 1700485571);
        d = ii(d, a, b, c, k[3], 10, -1894986606);
        c = ii(c, d, a, b, k[10], 15, -1051523);
        b = ii(b, c, d, a, k[1], 21, -2054922799);
        a = ii(a, b, c, d, k[8], 6, 1873313359);
        d = ii(d, a, b, c, k[15], 10, -30611744);
        c = ii(c, d, a, b, k[6], 15, -1560198380);
        b = ii(b, c, d, a, k[13], 21, 1309151649);
        a = ii(a, b, c, d, k[4], 6, -145523070);
        d = ii(d, a, b, c, k[11], 10, -1120210379);
        c = ii(c, d, a, b, k[2], 15, 718787259);
        b = ii(b, c, d, a, k[9], 21, -343485551);
        x[0] = add32(a, x[0]);
        x[1] = add32(b, x[1]);
        x[2] = add32(c, x[2]);
        x[3] = add32(d, x[3]);
    }
    function cmn(q, a, b, x, s, t) {
        a = add32(add32(a, q), add32(x, t));
        return add32((a << s) | (a >>> (32 - s)), b);
    }
    function ff(a, b, c, d, x, s, t) {
        return cmn((b & c) | ((~b) & d), a, b, x, s, t);
    }
    function gg(a, b, c, d, x, s, t) {
        return cmn((b & d) | (c & (~d)), a, b, x, s, t);
    }
    function hh(a, b, c, d, x, s, t) {
        return cmn(b ^ c ^ d, a, b, x, s, t);
    }
    function ii(a, b, c, d, x, s, t) {
        return cmn(c ^ (b | (~d)), a, b, x, s, t);
    }
    function md51(s) {
        var n = s.length,
            state = [1732584193, -271733879, -1732584194, 271733878], i;
        for (i = 64; i <= s.length; i += 64) {
            md5cycle(state, md5blk(s.substring(i - 64, i)));
        }
        s = s.substring(i - 64);
        var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
        for (i = 0; i < s.length; i++)
            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);
        tail[i >> 2] |= 0x80 << ((i % 4) << 3);
        if (i > 55) {
            md5cycle(state, tail);
            for (i = 0; i < 16; i++) tail[i] = 0;
        }
        tail[14] = n * 8;
        md5cycle(state, tail);
        return state;
    }
    function md5blk(s) {
        var md5blks = [], i;
        for (i = 0; i < 64; i += 4) {
            md5blks[i >> 2] = s.charCodeAt(i)
                + (s.charCodeAt(i + 1) << 8)
                + (s.charCodeAt(i + 2) << 16)
                + (s.charCodeAt(i + 3) << 24);
        }
        return md5blks;
    }
    var hex_chr = '0123456789abcdef'.split('');
    function rhex(n) {
        var s = '', j = 0;
        for (; j < 4; j++)
            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F]
                + hex_chr[(n >> (j * 8)) & 0x0F];
        return s;
    }
    function hex(x) {
        for (var i = 0; i < x.length; i++)
            x[i] = rhex(x[i]);
        return x.join('');
    }
    function add32(a, b) {
        return (a + b) & 0xFFFFFFFF;
    }
    return hex(md51(string));
}

function getGravatarUrl(email) {
    if (!email) {
        return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNkZGQiLz4KPGNpcmNsZSBjeD0iMjAiIGN5PSIxNiIgcj0iNiIgZmlsbD0iIzk5OSIvPgo8cGF0aCBkPSJNMzAgMzJjMC02LjYyNy01LjM3My0xMi0xMi0xMnMtMTIgNS4zNzMtMTIgMTIiIGZpbGw9IiM5OTkiLz4KPC9zdmc+';
    }
    
    const emailLower = email.toLowerCase().trim();
    const hash = md5(emailLower);
    
    return `https://www.gravatar.com/avatar/${hash}?s=40&d=identicon&r=g`;
}

function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

// 页面加载时初始化留言板
document.addEventListener('DOMContentLoaded', function() {
    loadMessages();
    
    // 添加回车键提交功能
    document.getElementById('messageContent').addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'Enter') {
            submitMessage();
        }
    });
});

$(function() {
    // 页面加载完毕后固定页头高度，防止在某些自动隐藏工具栏的移动浏览器上出现页面抖动现象
    $(".header").height($(window).height());
    
	// 监听滚动变化
    $(window).scroll(function() {
        if($(window).scrollTop() < 300) {
            $(".mk-uptop").removeClass("show");
        } else {
            $(".mk-uptop").addClass("show");
        }
    });
    
    // 返回顶部
    $(".mk-uptop").click(function(){
		$("html, body").animate({scrollTop:0}, "normal"); 
		return false; 
	});

    console.info('Version 2.0, Designed by XIAOLII.COM.');
});

</script>

</body>
</html>
